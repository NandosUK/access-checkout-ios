I, [2020-04-02T13:45:01.798067 #35545]  INFO -- : Cleared interactions
I, [2020-04-02T13:45:01.803968 #35545]  INFO -- : Registered expected interaction POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.804537 #35545] DEBUG -- : {
  "description": "a valid request to sessions",
  "request": {
    "method": "post",
    "path": "/sessions/payments/cvc",
    "headers": {
      "content-type": "application/vnd.worldpay.sessions-v1.hal+json",
      "Accept": "application/vnd.worldpay.sessions-v1.hal+json"
    },
    "body": {
      "identity": "identity",
      "cvc": "1234"
    }
  },
  "response": {
    "status": 201,
    "headers": {
      "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
    },
    "body": {
      "_links": {
        "sessions:session": {
          "href": {
            "json_class": "Pact::Term",
            "data": {
              "generate": "http://access.worldpay.com/sessions/sessionURI",
              "matcher": {
                "json_class": "Regexp",
                "o": 0,
                "s": "https?://[^/]+/sessions/.+"
              }
            }
          }
        }
      }
    }
  },
  "metadata": null
}
I, [2020-04-02T13:45:01.813483 #35545]  INFO -- : Received request POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.814018 #35545] DEBUG -- : {
  "path": "/sessions/payments/cvc",
  "query": "",
  "method": "post",
  "body": {
    "cvc": "1234",
    "identity": "identity"
  },
  "headers": {
    "Content-Length": "36",
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json",
    "Host": "localhost:1234",
    "Connection": "keep-alive",
    "X-Wp-Sdk": "access-checkout-ios/1.2.2",
    "Accept": "application/vnd.worldpay.sessions-v1.hal+json",
    "Accept-Language": "en-us",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "xctest/15702 CFNetwork/1121.2.1 Darwin/19.3.0",
    "Version": "HTTP/1.1"
  }
}
I, [2020-04-02T13:45:01.814531 #35545]  INFO -- : Found matching response for POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.814877 #35545] DEBUG -- : {
  "status": 201,
  "headers": {
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
  },
  "body": {
    "_links": {
      "sessions:session": {
        "href": {
          "json_class": "Pact::Term",
          "data": {
            "generate": "http://access.worldpay.com/sessions/sessionURI",
            "matcher": {
              "json_class": "Regexp",
              "o": 0,
              "s": "https?://[^/]+/sessions/.+"
            }
          }
        }
      }
    }
  }
}
I, [2020-04-02T13:45:01.818893 #35545]  INFO -- : Verifying - interactions matched
I, [2020-04-02T13:45:01.823266 #35545]  INFO -- : Writing pact for sessions to /Users/petechitvicheankul/Documents/GitHub/access-checkout-ios/AccessCheckoutSDK/pacts/access-checkout-ios-sdk-sessions.json
I, [2020-04-02T13:45:01.829937 #35545]  INFO -- : Cleared interactions
I, [2020-04-02T13:45:01.834260 #35545]  INFO -- : Registered expected interaction POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.834920 #35545] DEBUG -- : {
  "description": "a request with an invalid identity to sessions",
  "request": {
    "method": "post",
    "path": "/sessions/payments/cvc",
    "headers": {
      "Accept": "application/vnd.worldpay.sessions-v1.hal+json",
      "content-type": "application/vnd.worldpay.sessions-v1.hal+json"
    },
    "body": {
      "cvc": "123",
      "identity": "incorrectValue"
    }
  },
  "response": {
    "status": 400,
    "headers": {
      "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
    },
    "body": {
      "message": {
        "json_class": "Pact::SomethingLike",
        "contents": "The json body provided does not match the expected schema"
      },
      "errorName": "bodyDoesNotMatchSchema",
      "validationErrors": [
        {
          "errorName": "fieldHasInvalidValue",
          "message": {
            "json_class": "Pact::SomethingLike",
            "contents": "Identity is invalid"
          },
          "jsonPath": "$.identity"
        }
      ]
    }
  },
  "metadata": null
}
I, [2020-04-02T13:45:01.839805 #35545]  INFO -- : Received request POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.840406 #35545] DEBUG -- : {
  "path": "/sessions/payments/cvc",
  "query": "",
  "method": "post",
  "body": {
    "cvc": "123",
    "identity": "incorrectValue"
  },
  "headers": {
    "Content-Length": "41",
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json",
    "Host": "localhost:1234",
    "Connection": "keep-alive",
    "X-Wp-Sdk": "access-checkout-ios/1.2.2",
    "Accept": "application/vnd.worldpay.sessions-v1.hal+json",
    "Accept-Language": "en-us",
    "Accept-Encoding": "gzip, deflate",
    "User-Agent": "xctest/15702 CFNetwork/1121.2.1 Darwin/19.3.0",
    "Version": "HTTP/1.1"
  }
}
I, [2020-04-02T13:45:01.841085 #35545]  INFO -- : Found matching response for POST /sessions/payments/cvc
D, [2020-04-02T13:45:01.841591 #35545] DEBUG -- : {
  "status": 400,
  "headers": {
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
  },
  "body": {
    "message": {
      "json_class": "Pact::SomethingLike",
      "contents": "The json body provided does not match the expected schema"
    },
    "errorName": "bodyDoesNotMatchSchema",
    "validationErrors": [
      {
        "errorName": "fieldHasInvalidValue",
        "message": {
          "json_class": "Pact::SomethingLike",
          "contents": "Identity is invalid"
        },
        "jsonPath": "$.identity"
      }
    ]
  }
}
I, [2020-04-02T13:45:01.847870 #35545]  INFO -- : Verifying - interactions matched
I, [2020-04-02T13:45:01.853000 #35545]  INFO -- : Writing pact for sessions to /Users/petechitvicheankul/Documents/GitHub/access-checkout-ios/AccessCheckoutSDK/pacts/access-checkout-ios-sdk-sessions.json
I, [2020-04-02T13:45:01.860245 #35545]  INFO -- : Cleared interactions
I, [2020-04-02T13:45:01.865233 #35545]  INFO -- : Registered expected interaction GET /sessions
D, [2020-04-02T13:45:01.865887 #35545] DEBUG -- : {
  "description": "a GET request to the service root",
  "request": {
    "method": "get",
    "path": "/sessions",
    "headers": {
      "content-type": "application/vnd.worldpay.sessions-v1.hal+json",
      "Accept": "application/vnd.worldpay.sessions-v1.hal+json"
    }
  },
  "response": {
    "status": 200,
    "headers": {
      "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
    },
    "body": {
      "_links": {
        "sessions:paymentsCvc": {
          "href": {
            "json_class": "Pact::Term",
            "data": {
              "generate": "http://access.worldpay.com/sessions/payments/cvc",
              "matcher": {
                "json_class": "Regexp",
                "o": 0,
                "s": "https?://[^/]+/sessions/payments/cvc"
              }
            }
          }
        }
      }
    }
  },
  "metadata": null
}
I, [2020-04-02T13:45:01.872998 #35545]  INFO -- : Received request GET /sessions
D, [2020-04-02T13:45:01.873546 #35545] DEBUG -- : {
  "path": "/sessions",
  "query": "",
  "method": "get",
  "headers": {
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json",
    "Host": "localhost:1234",
    "Accept": "application/vnd.worldpay.sessions-v1.hal+json",
    "User-Agent": "xctest/15702 CFNetwork/1121.2.1 Darwin/19.3.0",
    "Accept-Language": "en-us",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "keep-alive",
    "Version": "HTTP/1.1"
  }
}
I, [2020-04-02T13:45:01.874044 #35545]  INFO -- : Found matching response for GET /sessions
D, [2020-04-02T13:45:01.874487 #35545] DEBUG -- : {
  "status": 200,
  "headers": {
    "Content-Type": "application/vnd.worldpay.sessions-v1.hal+json"
  },
  "body": {
    "_links": {
      "sessions:paymentsCvc": {
        "href": {
          "json_class": "Pact::Term",
          "data": {
            "generate": "http://access.worldpay.com/sessions/payments/cvc",
            "matcher": {
              "json_class": "Regexp",
              "o": 0,
              "s": "https?://[^/]+/sessions/payments/cvc"
            }
          }
        }
      }
    }
  }
}
I, [2020-04-02T13:45:01.878657 #35545]  INFO -- : Verifying - interactions matched
I, [2020-04-02T13:45:01.883314 #35545]  INFO -- : Writing pact for sessions to /Users/petechitvicheankul/Documents/GitHub/access-checkout-ios/AccessCheckoutSDK/pacts/access-checkout-ios-sdk-sessions.json
